<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Release Overview Extension - Documentation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa; /* Light gray background */
            color: #212529; /* Dark text */
            line-height: 1.6;
        }
        .container {
            max-width: 900px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: #ffffff; /* White content background */
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1, h2, h3 {
            color: #003049; /* Dark blue for headings */
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        h1 { font-size: 2.5rem; text-align: center; margin-bottom: 1rem; }
        h2 { font-size: 1.75rem; border-bottom: 1px solid #dee2e6; padding-bottom: 0.3em;}
        h3 { font-size: 1.25rem; }
        p, li { margin-bottom: 0.5rem; }
        code {
            background-color: #e9ecef;
            padding: 0.2em 0.4em;
            border-radius: 3px;
            font-family: monospace;
        }
        .warning {
            background-color: #fff3cd;
            border-left: 4px solid #ffeeba;
            padding: 1rem;
            margin: 1rem 0;
        }
        .note {
            background-color: #e0f2f1;
            border-left: 4px solid #0a9396;
            padding: 1rem;
            margin: 1rem 0;
        }
        a {
            color: #007bff;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        ul { padding-left: 20px; }
        strong { font-weight: 600; }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>Release Overview Extension Documentation</h1>

        <section id="introduction">
            <h2>Introduction</h2>
            <p>The Release Overview Extension is a browser tool designed to help you compare planned work in Jira with actual code changes in GitLab. By specifying a Jira "fix version" and a range of GitLab tags, the extension provides a consolidated view, making it easier to track release progress and identify potential discrepancies between what was planned and what was implemented.</p>
        </section>

        <section id="features">
            <h2>Key Features</h2>
            <ul>
                <li>Compares Jira issues from a specific "Fix Version" against GitLab commits between two release tags.</li>
                <li>Lists all Jira issues planned for the selected Fix Version.</li>
                <li>Lists all GitLab commits within the specified tag range.</li>
                <li>Highlights Jira issue keys found in GitLab commit messages, providing a link between tasks and code.</li>
                <li>Requires user-configurable API settings for Jira and GitLab (Base URLs and Personal Access Tokens).</li>
                <li>Supports theme selection (Dark/Light mode) for user preference.</li>
                <li>Internationalized interface supporting multiple languages.</li>
            </ul>
        </section>

        <section id="setup">
            <h2>Prerequisites & Setup</h2>
            <p>This is a standard Chrome Extension. Once installed from the Chrome Web Store (or loaded as an unpacked extension), it requires configuration to communicate with your Jira and GitLab instances.</p>

            <h3>Configuration</h3>
            <p>API credentials and instance URLs must be configured via the extension's Options Page. You can access this page by:</p>
            <ul>
                <li>Clicking the ⚙️ (gear) icon in the extension's Side Panel.</li>
                <li>Right-clicking the extension icon in the Chrome toolbar and selecting "Options".</li>
            </ul>
            <p>On the Options Page, you will need to provide the following:</p>
            <ul>
                <li><strong>Jira Base URL:</strong> The root URL of your Jira instance (e.g., <code>https://your-company.atlassian.net</code> or <code>https://jira.yourdomain.com</code>).</li>
                <li><strong>Jira Personal Access Token (PAT):</strong> Your Jira PAT for API authentication.
                    <ul>
                        <li>Required permissions: Read access to projects and issues.</li>
                        <li>For more information on generating a Jira PAT, see the <a href="https://support.atlassian.com/atlassian-account/docs/manage-api-tokens-for-your-atlassian-account/" target="_blank" rel="noopener noreferrer">Atlassian documentation</a>.</li>
                    </ul>
                </li>
                <li><strong>GitLab Base URL:</strong> The root URL of your GitLab instance (e.g., <code>https://gitlab.com</code> or <code>https://gitlab.yourdomain.com</code>).</li>
                <li><strong>GitLab Personal Access Token (PAT):</strong> Your GitLab PAT for API authentication.
                    <ul>
                        <li>Required scopes: At minimum, <code>read_api</code> and <code>read_repository</code>.</li>
                        <li>For more information on generating a GitLab PAT, see the <a href="https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html" target="_blank" rel="noopener noreferrer">GitLab documentation</a>.</li>
                    </ul>
                </li>
            </ul>
            <p>After entering your details, click the <strong>"Save Settings"</strong> button.</p>
            <p>You can use the <strong>"Test Jira API"</strong> and <strong>"Test GitLab API"</strong> buttons to verify your configuration.</p>

            <div class="warning">
                <strong>Important Security Notice:</strong> For enterprise production environments, storing API Personal Access Tokens (PATs) directly in the browser's client storage is generally NOT recommended due to security risks. A backend proxy service is the more secure approach for handling credentials. This extension currently uses <code>localStorage</code> for PAT storage.
            </div>
        </section>

        <section id="how-to-use">
            <h2>How to Use</h2>
            <ol>
                <li><strong>Open the Side Panel:</strong> Click the Release Overview Extension icon in your Chrome toolbar. This will open the side panel interface.</li>
                <li>
                    <strong>Fill in the Input Fields:</strong>
                    <ul>
                        <li><strong>Jira Project Key:</strong> The unique key for your Jira project (e.g., <code>PROJ</code>, <code>MYAPP</code>).</li>
                        <li><strong>Jira Release Version ID:</strong> The name of the "Fix Version" in Jira you want to analyze (e.g., <code>Version 2.5.0</code>, <code>Sprint X Release</code>).
                            <ul>
                                <li>You can type the name directly or click the <strong>"Get Releases"</strong> button (after entering a Project Key) to fetch and select from a list of available, unarchived fix versions for that project.</li>
                            </ul>
                        </li>
                        <li><strong>GitLab Project ID:</strong> The numerical ID of your GitLab project. You can find this in GitLab under your project's <code>Settings > General > Project ID</code>.</li>
                        <li><strong>GitLab Current Release Tag:</strong> The GitLab tag representing the newer point in time for your comparison (e.g., <code>v1.1.0</code>).</li>
                        <li><strong>GitLab Previous Release Tag:</strong> The GitLab tag representing the older point in time for your comparison (e.g., <code>v1.0.0</code>). The extension will fetch commits made *between* the previous tag and the current tag.</li>
                    </ul>
                </li>
                <li><strong>Generate Summary:</strong> Click the <strong>"Generate Summary"</strong> button. The extension will fetch data from Jira and GitLab, then display the results.</li>
            </ol>

            <h3>Understanding the Results</h3>
            <p>The results are displayed in two main sections within the side panel:</p>
            <ul>
                <li><strong>Jira Tickets:</strong> This section lists all Jira issues found within the specified "Fix Version" for your project. Each issue will show its key (linked to the issue in Jira), summary, and current status.</li>
                <li><strong>GitLab History:</strong> This section lists all GitLab commits found between the "Previous Release Tag" and the "Current Release Tag" for your project. Each commit will show its short ID (linked to the commit in GitLab), title, and any Jira issue keys automatically detected within the commit title or message.</li>
            </ul>
            <p>By comparing these two lists, you can see which planned Jira issues have associated code changes and identify any commits that might not be linked to a planned issue.</p>
        </section>

        <section id="architecture">
            <h2>Extension Architecture (Brief)</h2>
            <p>This is a Manifest V3 Chrome Extension built with the following key components:</p>
            <ul>
                <li><strong>Side Panel:</strong> The primary user interface where you input release parameters and view the generated summary.</li>
                <li><strong>Options Page:</strong> A separate page for configuring API settings (Jira/GitLab URLs, PATs) and selecting a display theme (Dark/Light).</li>
                <li><strong>Background Service Worker:</strong> The core of the extension. It runs in the background, handling all API communications with Jira and GitLab, processing the data, and performing the comparison logic.</li>
            </ul>
        </section>

        <section id="permissions">
            <h2>Permissions Justification</h2>
            <p>The Release Overview Extension requires the following permissions:</p>
            <ul>
                <li><strong><code>storage</code>:</strong> Used to save your API configurations (Jira and GitLab URLs, PATs), your last used form inputs for convenience, and your theme preference (Dark/Light mode) locally on your computer.</li>
                <li><strong><code>sidePanel</code>:</strong> Necessary to display the extension's main user interface within the browser's side panel.</li>
                <li><strong>Host Permissions (e.g., <code>https://*.atlassian.net/*</code>, <code>https://gitlab.com/*</code>):</strong> Required to allow the extension to send API requests to the Jira and GitLab instances you specify in the configuration. These are essential for fetching issue and commit data. The specific hosts are declared in the manifest but operate on the URLs you provide in the settings.</li>
            </ul>
        </section>

        <footer class="text-center mt-12 pt-8 border-t border-gray-300">
            <p class="text-gray-600">Release Overview Extension</p>
        </footer>
    </div>
</body>
</html>
